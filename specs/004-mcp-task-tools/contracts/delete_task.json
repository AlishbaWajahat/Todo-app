{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "delete_task Tool Contract",
  "description": "MCP tool for permanently deleting a task",
  "type": "object",
  "properties": {
    "input": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "description": "Authenticated user ID (required)",
          "minLength": 1
        },
        "task_id": {
          "type": "integer",
          "description": "Task ID to delete (required)",
          "minimum": 1
        }
      },
      "required": ["user_id", "task_id"],
      "additionalProperties": false
    },
    "output": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "Whether the operation succeeded"
        },
        "data": {
          "type": ["object", "null"],
          "properties": {
            "task_id": {
              "type": "integer",
              "description": "ID of the deleted task"
            },
            "deleted": {
              "type": "boolean",
              "description": "Confirmation that task was deleted",
              "const": true
            }
          },
          "required": ["task_id", "deleted"]
        },
        "error": {
          "type": ["string", "null"],
          "description": "Human-readable error message (present on failure)"
        },
        "error_code": {
          "type": ["string", "null"],
          "description": "Machine-readable error code (present on failure)",
          "enum": ["INVALID_USER_ID", "TASK_NOT_FOUND", "DATABASE_ERROR", "INTERNAL_ERROR", null]
        }
      },
      "required": ["success"]
    }
  },
  "examples": [
    {
      "input": {
        "user_id": "user123",
        "task_id": 1
      },
      "output": {
        "success": true,
        "data": {
          "task_id": 1,
          "deleted": true
        },
        "error": null,
        "error_code": null
      }
    },
    {
      "input": {
        "user_id": "user123",
        "task_id": 999
      },
      "output": {
        "success": false,
        "data": null,
        "error": "Task not found or you don't have permission to access it",
        "error_code": "TASK_NOT_FOUND"
      }
    }
  ]
}
